<!--  <script>
        // function initialize() {
        //   var mapOptions = {
        //     zoom: 10,
        //     center: new google.maps.LatLng(-35, 150.10)
        //   };

        //   var map = new google.maps.Map(document.getElementById('map-canvas'),
        //     mapOptions);
        // }

        // function loadScript() {
        //   var script = document.createElement('script');
        //   script.type = 'text/javascript';
        //   script.src = 'https://maps/googleapis.com/maps/apis/js?v=3.exp&' + 'callback=initialize';
        //   document.body.appendChild(script);
        // }

        // window.onload = loadscript;
        </script>
     <script>



//        var map;
//        function initMap() {
//          map = new google.maps.Map(document.getElementById('map'), {
//            center: {lat: 37.7576793, lng: -122.5076399},
//            zoom: 8
//          });
//        }

//        </script>
     <script>
// // function initMap() {
//   var myLatLng = {lat: 38.0188962, lng: -121.9471977};

//   var map = new google.maps.Map(document.getElementById('map'), {
//     zoom: 4,
//     center: myLatLng
//   });

//   var marker = new google.maps.Marker({
//     position: myLatLng,
//     map: map,
//     title: 'Hello World!'
//   });
// }

// function initMap() {
//   var map = new google.maps.Map(document.getElementById('map'), {
//     zoom: 10,
//     center: {lat: 38.0188962, lng: -121.9471977}, 
//     mapTypeId: google.maps.MapTypeId.ROADMAP
//   });


//   var stationsArray = <%= raw @stations %>;
//   for(var i=0; i < stationsArray.length; i++) {
//    var geocoder = new google.maps.Geocoder();
//    var address = stationsArray[i];
//    console.log(address)
  

//   geocoder.geocode( { 'address': address}, function(results, status) {
// console.log(results)
//    if (status == google.maps.GeocoderStatus.OK) {
//      var latitude = results[0].geometry.location.lat();
//      var longitude = results[0].geometry.location.lng();
//      console.log(latitude);
//      console.log(longitude);
//      var marker = new google.maps.Marker({
//        position: {lat: latitude, lng: longitude},
//        map: map
//      });
//    } 

//   });
// }
// }
    var marker;

function initMap() {
  var map = new google.maps.Map(document.getElementById('map'), {
    zoom: 10,
    center: {lat: 38.0188962, lng: -121.9471977}, 
    mapTypeId: google.maps.MapTypeId.ROADMAP
  });


  var stationsArray = <%= raw @stations %>;
  for(var i=0; i < stationsArray.length; i++) {
    var station = stationsArray[i];
    var latitude = parseFloat(stationsArray[i][0]);
    var longitude = parseFloat(stationsArray[i][1]);
    console.log(latitude);
    console.log(longitude);


      var marker = new google.maps.Marker({
        position: {lat: latitude, lng: longitude},
        map: map
      });
  }
}



  // marker = new google.maps.Marker({
  //   map: map,
  //   draggable: false,
  //   animation: google.maps.Animation.DROP,
  //   position: {lat: 38.0188962, lng: -121.9471977}
  // });
  // marker.addListener('click', toggleBounce);
// }

// function toggleBounce() {
//   if (marker.getAnimation() !== null) {
//     marker.setAnimation(null);
//   } else {
//     marker.setAnimation(google.maps.Animation.BOUNCE);
//   }
// }
// </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFrjBU54NwKX7dKz4WAB2XocG4PFdRaKY&callback=initMap"
        async defer>
        </script> -->
